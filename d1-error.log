Loading .env.local
--- Starting D1 Verification (Standalone Insert with Log) ---
Attempting to sync user: test_user_1764677144567
Executing D1 Query: PRAGMA table_info(users)
Params: []
Executing D1 Query: SELECT user_id as id, clerk_user_id, email, name, avatar_url, subscription_tier, credits, credits_used, credits_reset_date, created_at, updated_at FROM users WHERE clerk_user_id = ?1 LIMIT 1
Params: ["test_user_1764677144567"]
Executing D1 Query: SELECT user_id as id, clerk_user_id, email, name, avatar_url, subscription_tier, credits, credits_used, credits_reset_date, created_at, updated_at FROM users WHERE email = ?1 LIMIT 1
Params: ["test_1764677144567@example.com"]
Creating new user...
Executing D1 Query: INSERT INTO users (user_id, clerk_user_id, email, name, avatar_url, subscription_tier, created_at, updated_at, credits_reset_date) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
Params: ["test_user_1764677144567","test_user_1764677144567","test_1764677144567@example.com","Debug User","https://example.com/avatar.png","free","2025-12-02T12:05:45.856Z","2025-12-02T12:05:45.856Z","2026-01-02T12:05:45.856Z"]
Executing D1 Query: SELECT user_id as id, clerk_user_id, email, name, avatar_url, subscription_tier, credits, credits_used, credits_reset_date, created_at, updated_at FROM users WHERE clerk_user_id = ?1 LIMIT 1
Params: ["test_user_1764677144567"]
âœ… Successfully synced user!
Result: {
  "id": "test_user_1764677144567",
  "clerk_user_id": "test_user_1764677144567",
  "email": "test_1764677144567@example.com",
  "name": "Debug User",
  "avatar_url": "https://example.com/avatar.png",
  "subscription_tier": "free",
  "credits": 0,
  "credits_used": 0,
  "credits_reset_date": "2026-01-02T12:05:45.856Z",
  "created_at": "2025-12-02T12:05:45.856Z",
  "updated_at": "2025-12-02T12:05:45.856Z"
}
